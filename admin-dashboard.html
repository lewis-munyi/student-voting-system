<!DOCTYPE html>
<html>

<head>
    <title>Admin dashboard</title>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Add jquery CDN -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <!-- Add Local jquery -->
    <script type="text/javascript" src="js/materialize.min.js"></script>
</head>

<body>
    <div class="navbar-fixed">
        <nav>
            <div class="nav-wrapper blue dark">
                <a href="#" class="brand-logo">Logo</a>
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li>
                        <a href="#">
                            <?php session_start(); echo ($_SESSION["name"]);?> </a>
                    </li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">3</a></li>
                </ul>
            </div>
        </nav>
        z</div>
    <script type="text/javascript">
    $(document).ready(function() {
        $.getJSON("fetchregisteredstudents.php", function(return_data) {
            $.each(return_data.data, function(key, value) {
                $("#registeredstudents").append(

                    //"<li class=\"collection-item\">" + value.first_name + " " + value.second_name + "</li>"
                    "<tr><td>" + value.id + "</td><td>" + value.studentRegistration + "</td><td>" + value.first_name + " " + value.second_name + "</td><td>" + value.studentEmail + "</td></tr>"
                );
            });
        });
        $.getJSON("fetchcontestants.php", function(return_data) {
            $.each(return_data.data, function(key, value) {
                $("#registeredcontestants").append(

                    //"<li class=\"collection-item\">" + value.first_name + " " + value.second_name + "</li>"
                    "<tr><td>" + value.id + "</td><td>" + value.contestantRegistrationNumber + "</td><td>" + value.first_name + " " + value.second_name + "</td><td>" + value.contestantEmail + "</td><td>" + value.contestantCourse + "</tr>"
                );
            });
        });
        $.getJSON("fetchcourses.php", function(return_data) {
            $.each(return_data.data, function(key, value) {
                $("#courses").append(

                    //"<li class=\"collection-item\">" + value.first_name + " " + value.second_name + "</li>"
                    "<tr><td>" + value.course_code + "</td><td>" + value.course_title + "</td><tr>"
                );
            });
        });
    });
    function registerstudent() {
        Materialize.toast('Redirecting you....', 10000);
        window.location.href = "http://localhost/student-voting-system/register-contestant.html";
    }
    function registercontestant() {
        Materialize.toast('Redirecting you....', 10000);
        window.location.href = "http://localhost/student-voting-system/register-contestant.html";
    }
    function modaladdcourse() {
        Materialize.toast('Redirecting you....', 10000);
        window.location.href = "http://localhost/student-voting-system/register-contestant.html";
    }
    </script>
    <div class="container">
        <ul class="collapsible" data-collapsible="accordion">
            <li>
                <div class="collapsible-header"><i class="material-icons">person</i>Registered students<i class="material-icons right tooltipped" data-position="top" data-delay="50" data-tooltip="Click to add more students"  onclick="registerstudent()">add</i></div>
                <div class="collapsible-body">
                    <table class="bordered highlight centered responsive-table">
                        <thead>
                            <tr>
                                <th>No.</th>
                                <th>Registration number</th>
                                <th>Student Name</th>
                                <th>Student Email</th>
                            </tr>
                        </thead>
                        <tbody name="registeredstudents" id="registeredstudents"></tbody>
                    </table>
                </div>
            </li>
            <li>
                <div class="collapsible-header"><i class="material-icons">person</i>Registered contestants<i class="material-icons right tooltipped" data-position="top" data-delay="50" data-tooltip="Click to add more contestants" onclick="registercontestant()" ">add</i></div>
                
                <div class="collapsible-body ">
                    <table class="bordered highlight centered responsive-table ">
                        <thead>
                            <tr>
                                <th>Id.</th>
                                <th>Registration number</th>
                                <th>Contestant Name</th>
                                <th>Contestant Email</th>
                                <th>Contestant Course</th>
                            </tr>
                        </thead>
                        <tbody name="registeredcontestants" id="registeredcontestants"></tbody>
                    </table>
                </div>
            </li>
            <li>
                <div class="collapsible-header "><i class="material-icons ">book</i>Courses offered<i class="material-icons right tooltipped" data-position="top" data-delay="50" data-tooltip="Click to add more courses" onclick="modaladdcourse() ">add</i></div>
                <div class="collapsible-body ">
                    <table class="bordered highlight centered responsive-table ">
                        <thead>
                            <tr>
                                <th>Id.</th>
                                <th>Course title</th>
                            </tr>
                        </thead>
                        <tbody name="courses" id="courses"></tbody>
                        
                    </table>
                    
                </div>
            </li>
        </ul>
        <!-- <ul class="collection " name="student " id="student "></ul> -->
    </div>
</body>

</html>
